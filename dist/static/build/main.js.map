{
  "version": 3,
  "sources": ["../../../node_modules/regexparam/dist/regexparam.mjs", "../../../node_modules/navaid/dist/navaid.mjs", "../../../src/client/components/Nav.xht", "../../../src/client/App.xht", "../../../src/client/main.js"],
  "sourcesContent": ["export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n", "import convert from 'regexparam';\n\nexport default function Navaid(base, on404) {\n\tvar rgx, curr, routes=[], $={};\n\n\tvar fmt = $.format = function (uri) {\n\t\tif (!uri) return uri;\n\t\turi = '/' + uri.replace(/^\\/|\\/$/g, '');\n\t\treturn rgx.test(uri) && uri.replace(rgx, '/');\n\t}\n\n\tbase = '/' + (base || '').replace(/^\\/|\\/$/g, '');\n\trgx = base == '/' ? /^\\/+/ : new RegExp('^\\\\' + base + '(?=\\\\/|$)\\\\/?', 'i');\n\n\t$.route = function (uri, replace) {\n\t\tif (uri[0] == '/' && !rgx.test(uri)) uri = base + uri;\n\t\thistory[(uri === curr || replace ? 'replace' : 'push') + 'State'](uri, null, uri);\n\t}\n\n\t$.on = function (pat, fn) {\n\t\t(pat = convert(pat)).fn = fn;\n\t\troutes.push(pat);\n\t\treturn $;\n\t}\n\n\t$.run = function (uri) {\n\t\tvar i=0, params={}, arr, obj;\n\t\tif (uri = fmt(uri || location.pathname)) {\n\t\t\turi = uri.match(/[^\\?#]*/)[0];\n\t\t\tfor (curr = uri; i < routes.length; i++) {\n\t\t\t\tif (arr = (obj=routes[i]).pattern.exec(uri)) {\n\t\t\t\t\tfor (i=0; i < obj.keys.length;) {\n\t\t\t\t\t\tparams[obj.keys[i]] = arr[++i] || null;\n\t\t\t\t\t}\n\t\t\t\t\tobj.fn(params); // todo loop?\n\t\t\t\t\treturn $;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (on404) on404(uri);\n\t\t}\n\t\treturn $;\n\t}\n\n\t$.listen = function (u) {\n\t\twrap('push');\n\t\twrap('replace');\n\n\t\tfunction run(e) {\n\t\t\t$.run();\n\t\t}\n\n\t\tfunction click(e) {\n\t\t\tvar x = e.target.closest('a'), y = x && x.getAttribute('href');\n\t\t\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button || e.defaultPrevented) return;\n\t\t\tif (!y || x.target || x.host !== location.host || y[0] == '#') return;\n\t\t\tif (y[0] != '/' || rgx.test(y)) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$.route(y);\n\t\t\t}\n\t\t}\n\n\t\taddEventListener('popstate', run);\n\t\taddEventListener('replacestate', run);\n\t\taddEventListener('pushstate', run);\n\t\taddEventListener('click', click);\n\n\t\t$.unlisten = function () {\n\t\t\tremoveEventListener('popstate', run);\n\t\t\tremoveEventListener('replacestate', run);\n\t\t\tremoveEventListener('pushstate', run);\n\t\t\tremoveEventListener('click', click);\n\t\t}\n\n\t\treturn $.run(u);\n\t}\n\n\treturn $;\n}\n\nfunction wrap(type, fn) {\n\tif (history[type]) return;\n\thistory[type] = type;\n\tfn = history[type += 'State'];\n\thistory[type] = function (uri) {\n\t\tvar ev = new Event(type.toLowerCase());\n\t\tev.uri = uri;\n\t\tfn.apply(this, arguments);\n\t\treturn dispatchEvent(ev);\n\t}\n}\n", "import * as $runtime from 'malinajs/runtime.js';\nimport { $watch, $watchReadOnly, $tick } from 'malinajs/runtime.js';\nimport { $$htmlToFragment } from 'malinajs/runtime.js';\nexport default $runtime.makeComponent(($option, $$apply) => {\n  const $component = $runtime.current_component;\n  const $props = $option.props || {};\n  const $$resolveClass = $runtime.makeClassResolver(\n    $option, {'selected': 'mju0rbo'}, {}, null\n  );\n  let {active} = $props;\n  $runtime.current_component.push = () => {\n    ({active=active} = $props);\n    $$apply();\n  };\n  $runtime.current_component.exportedProps = {active: () => active};\n  function isActive(str) {\n    $$apply();\n    return active === str ? 'selected' : '';\n  }\n  {\n    let $cd = $component.$cd;\n    const $parentElement = $$htmlToFragment(` <nav class=\"mpnx5fx\"> <ul class=\"mpnx5fx\"><li class=\"mpnx5fx\"><a href=\"/\">home</a></li><li class=\"mpnx5fx\"><a href=\"/about\">about</a></li><li class=\"mpnx5fx\"><a href=\"/blog\">blog</a></li></ul> </nav> `);\n    let el0 = $parentElement[$runtime.childNodes][1][$runtime.childNodes][1][$runtime.firstChild][$runtime.firstChild];\n    let el1 = $parentElement[$runtime.childNodes][1][$runtime.childNodes][1][$runtime.childNodes][1][$runtime.firstChild];\n    let el2 = $parentElement[$runtime.childNodes][1][$runtime.childNodes][1][$runtime.childNodes][2][$runtime.firstChild];\n    $watchReadOnly($cd, () => $$resolveClass(((isActive('home'))),'mpnx5fx'), value => $runtime.setClassToElement(el0, value));\n    $watchReadOnly($cd, () => $$resolveClass(((isActive('about'))),'mpnx5fx'), value => $runtime.setClassToElement(el1, value));\n    $watchReadOnly($cd, () => $$resolveClass(((isActive('blog'))),'mpnx5fx'), value => $runtime.setClassToElement(el2, value));\n    return $parentElement;\n  }\n}, $runtime.$base);\n\nimport \"C:/LABS/Zero/0/malina-example-2/src/client/components/Nav.malina.css\";", "import * as $runtime from 'malinajs/runtime.js';\nimport { $watch, $watchReadOnly, $tick } from 'malinajs/runtime.js';\nimport { $$htmlToFragment } from 'malinajs/runtime.js';\nimport Navaid from 'navaid';\nimport Nav from './components/Nav.xht';\nexport default $runtime.makeComponent(($option, $$apply) => {\n  const $component = $runtime.current_component;\n  const $context = $runtime.$context;\n  let Route, params = {}, active, uri;\n  const router = Navaid('/').on('/', () => {\n    $$apply();\n    return run(import('./pages/home.xht'));\n  }).on('/about', () => {\n    $$apply();\n    return run(import('./pages/about.xht'));\n  }).on('/blog', () => {\n    $$apply();\n    return run(import('./pages/blog.xht'));\n  }).on('/blog/:postid', obj => {\n    $$apply();\n    return run(import('./pages/articles.xht'), obj);\n  }).listen();\n  function run(thunk, obj) {\n    $$apply();\n    uri = location.pathname;\n    active = uri.split('/')[1] || 'home';\n    const target = uri;\n    thunk.then(m => {\n      $$apply();\n      if (target !== uri) return;\n      params = obj || ({});\n      if (m.preload) {\n        m.preload({\n          params\n        }).then(() => {\n          $$apply();\n          if (target !== uri) return;\n          Route = m.default;\n          window.scrollTo(0, 0);\n        });\n      } else {\n        Route = m.default;\n        window.scrollTo(0, 0);\n      }\n    });\n  }\n  function onDestroy() {\n    $$apply();\n    router.unlisten;\n  }\n  ;\n  {\n    let $cd = $component.$cd;\n    const $parentElement = $$htmlToFragment(` <> <main class=\"mefqip6\"> <> </main> `);\n    let el0 = $parentElement[$runtime.childNodes][1];\n    let el2 = $parentElement[$runtime.childNodes][3][$runtime.childNodes][1];\n    {\n      let $$push = $runtime.noop;\n      let props = {};\n      $runtime.fire($watch($cd, () => ((active)), _active => {\n        props.active = _active;\n        $$push();\n      }, {ro: true, cmp: $runtime.$$compareDeep}));\n      let $child = $runtime.callComponent($cd, $context, Nav, el0, {props});\n      if($child?.push) {\n        $$push = $child.push;\n      }\n    }\n    $runtime.$$ifBlock($cd, el2, () => !!(Route),\n      $$htmlToFragment(` <> `),\n      ($cd, $parentElement) => {\n        let el1 = $parentElement[$runtime.childNodes][1];\n        {\n          let childCD, finalLabel = $runtime.getFinalLabel(el1);\n          $watch($cd, () => (Route), ($ComponentConstructor) => {\n            if(childCD) {\n              childCD.destroy();\n              $runtime.removeElementsBetween(el1, finalLabel);\n            }\n            childCD = null;\n            if($ComponentConstructor) {\n              childCD = $cd.new();\n              let $$push = $runtime.noop;\n              let props = {};\n              $runtime.fire($watch($cd, () => ((params)), _params => {\n                props.params = _params;\n                $$push();\n              }, {ro: true, cmp: $runtime.$$compareDeep}));\n              let $child = $runtime.callComponent(childCD, $context, $ComponentConstructor, el1, {props});\n              if($child?.push) {\n                $$push = $child.push;\n              }\n            }\n          });\n        }\n      },\n      $runtime.createTextNode(` Loading.... `),\n      $runtime.noop);\n    $runtime.$onDestroy(onDestroy);\n    return $parentElement;\n  }\n}, $runtime.$base);\n\nimport \"C:/LABS/Zero/0/malina-example-2/src/client/App.malina.css\";", "import App from './App.xht';\r\nApp(document.body);"],
  "mappings": "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",
  "names": []
}
